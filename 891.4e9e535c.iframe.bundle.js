/*! For license information please see 891.4e9e535c.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_embeddable_remarkable_ui=self.webpackChunk_embeddable_remarkable_ui||[]).push([[891],{"./node_modules/chartjs-plugin-annotation/dist/chartjs-plugin-annotation.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>annotation});var chart_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/chart.js/dist/chart.js"),chart_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/chart.js/dist/chunks/helpers.dataset.js");const interaction={modes:{point:(visibleElements,event)=>filterElements(visibleElements,event,{intersect:!0}),nearest:(visibleElements,event,options)=>function getNearestItem(visibleElements,event,options){let minDistance=Number.POSITIVE_INFINITY;return filterElements(visibleElements,event,options).reduce((nearestItems,element)=>{const center=element.getCenterPoint(),evenPoint=function getPointByAxis(event,center,axis){if("x"===axis)return{x:event.x,y:center.y};if("y"===axis)return{x:center.x,y:event.y};return center}(event,center,options.axis),distance=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.aF)(event,evenPoint);return distance<minDistance?(nearestItems=[element],minDistance=distance):distance===minDistance&&nearestItems.push(element),nearestItems},[]).sort((a,b)=>a._index-b._index).slice(0,1)}(visibleElements,event,options),x:(visibleElements,event,options)=>filterElements(visibleElements,event,{intersect:options.intersect,axis:"x"}),y:(visibleElements,event,options)=>filterElements(visibleElements,event,{intersect:options.intersect,axis:"y"})}};function getElements(visibleElements,event,options){return(interaction.modes[options.mode]||interaction.modes.nearest)(visibleElements,event,options)}function filterElements(visibleElements,event,options){return visibleElements.filter(element=>options.intersect?element.inRange(event.x,event.y):function inRangeByAxis(element,event,axis){return"x"!==axis&&"y"!==axis?element.inRange(event.x,event.y,"x",!0)||element.inRange(event.x,event.y,"y",!0):element.inRange(event.x,event.y,axis,!0)}(element,event,options.axis))}function rotated(point,center,angle){const cos=Math.cos(angle),sin=Math.sin(angle),cx=center.x,cy=center.y;return{x:cx+cos*(point.x-cx)-sin*(point.y-cy),y:cy+sin*(point.x-cx)+cos*(point.y-cy)}}const isOlderPart=(act,req)=>req>act||act.length>req.length&&act.slice(0,req.length)===req,clamp=(x,from,to)=>Math.min(to,Math.max(from,x)),inLimit=(limit,hitSize)=>limit.value>=limit.start-hitSize&&limit.value<=limit.end+hitSize;function clampAll(obj,from,to){for(const key of Object.keys(obj))obj[key]=clamp(obj[key],from,to);return obj}function inBoxRange(point,{x,y,x2,y2},axis,{borderWidth,hitTolerance}){const hitSize=(borderWidth+hitTolerance)/2,inRangeX=point.x>=x-hitSize-.001&&point.x<=x2+hitSize+.001,inRangeY=point.y>=y-hitSize-.001&&point.y<=y2+hitSize+.001;return"x"===axis?inRangeX:("y"===axis||inRangeX)&&inRangeY}function inLabelRange(point,{rect,center},axis,{rotation,borderWidth,hitTolerance}){return inBoxRange(rotated(point,center,(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(-rotation)),rect,axis,{borderWidth,hitTolerance})}function getElementCenterPoint(element,useFinalPosition){const{centerX,centerY}=element.getProps(["centerX","centerY"],useFinalPosition);return{x:centerX,y:centerY}}const isPercentString=s=>"string"==typeof s&&s.endsWith("%"),toPercent=s=>parseFloat(s)/100,toPositivePercent=s=>clamp(toPercent(s),0,1),boxAppering=(x,y)=>({x,y,x2:x,y2:y,width:0,height:0}),defaultInitAnimation={box:properties=>boxAppering(properties.centerX,properties.centerY),doughnutLabel:properties=>boxAppering(properties.centerX,properties.centerY),ellipse:properties=>({centerX:properties.centerX,centerY:properties.centerX,radius:0,width:0,height:0}),label:properties=>boxAppering(properties.centerX,properties.centerY),line:properties=>boxAppering(properties.x,properties.y),point:properties=>({centerX:properties.centerX,centerY:properties.centerY,radius:0,width:0,height:0}),polygon:properties=>boxAppering(properties.centerX,properties.centerY)};function getRelativePosition(size,position){return"start"===position?0:"end"===position?size:isPercentString(position)?toPositivePercent(position)*size:size/2}function getSize(size,value,positivePercent=!0){return"number"==typeof value?value:isPercentString(value)?(positivePercent?toPositivePercent(value):toPercent(value))*size:size}function measureLabelRectangle(point,labelSize,{borderWidth,position,xAdjust,yAdjust},padding){const hasPadding=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(padding),width=labelSize.width+(hasPadding?padding.width:0)+borderWidth,height=labelSize.height+(hasPadding?padding.height:0)+borderWidth,positionObj=toPosition(position),x=calculateLabelPosition$1(point.x,width,xAdjust,positionObj.x),y=calculateLabelPosition$1(point.y,height,yAdjust,positionObj.y);return{x,y,x2:x+width,y2:y+height,width,height,centerX:x+width/2,centerY:y+height/2}}function toPosition(value,defaultValue="center"){return(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(value)?{x:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.v)(value.x,defaultValue),y:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.v)(value.y,defaultValue)}:{x:value=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.v)(value,defaultValue),y:value}}const shouldFit=(options,fitRatio)=>options&&options.autoFit&&fitRatio<1;function toFonts(options,fitRatio){const optFont=options.font,fonts=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(optFont)?optFont:[optFont];return shouldFit(options,fitRatio)?fonts.map(function(f){const font=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a0)(f);return font.size=Math.floor(f.size*fitRatio),font.lineHeight=f.lineHeight,(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a0)(font)}):fonts.map(f=>(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a0)(f))}function isBoundToPoint(options){return options&&((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(options.xValue)||(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(options.yValue))}function calculateLabelPosition$1(start,size,adjust=0,position){return start-getRelativePosition(size,position)+adjust}function initAnimationProperties(chart,properties,options){const initAnim=options.init;if(initAnim)return!0===initAnim?applyDefault(properties,options):function execCallback(chart,properties,options){const result=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.Q)(options.init,[{chart,properties,options}]);if(!0===result)return applyDefault(properties,options);if((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(result))return result}(chart,properties,options)}function loadHooks(options,hooks,hooksContainer){let activated=!1;return hooks.forEach(hook=>{(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(options[hook])?(activated=!0,hooksContainer[hook]=options[hook]):(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(hooksContainer[hook])&&delete hooksContainer[hook]}),activated}function applyDefault(properties,options){const type=options.type||"line";return defaultInitAnimation[type](properties)}const widthCache=new Map;function isImageOrCanvas(content){if(content&&"object"==typeof content){const type=content.toString();return"[object HTMLImageElement]"===type||"[object HTMLCanvasElement]"===type}}function translate(ctx,{x,y},rotation){rotation&&(ctx.translate(x,y),ctx.rotate((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(rotation)),ctx.translate(-x,-y))}function setBorderStyle(ctx,options){if(options&&options.borderWidth)return ctx.lineCap=options.borderCapStyle||"butt",ctx.setLineDash(options.borderDash),ctx.lineDashOffset=options.borderDashOffset,ctx.lineJoin=options.borderJoinStyle||"miter",ctx.lineWidth=options.borderWidth,ctx.strokeStyle=options.borderColor,!0}function setShadowStyle(ctx,options){ctx.shadowColor=options.backgroundShadowColor,ctx.shadowBlur=options.shadowBlur,ctx.shadowOffsetX=options.shadowOffsetX,ctx.shadowOffsetY=options.shadowOffsetY}function measureLabelSize(ctx,options){const content=options.content;if(isImageOrCanvas(content)){return{width:getSize(content.width,options.width),height:getSize(content.height,options.height)}}const fonts=toFonts(options),strokeWidth=options.textStrokeWidth,lines=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(content)?content:[content],mapKey=lines.join()+(fonts=>fonts.reduce(function(prev,item){return prev+item.string},""))(fonts)+strokeWidth+(ctx._measureText?"-spriting":"");return widthCache.has(mapKey)||widthCache.set(mapKey,function calculateLabelSize(ctx,lines,fonts,strokeWidth){ctx.save();const count=lines.length;let width=0,height=strokeWidth;for(let i=0;i<count;i++){const font=fonts[Math.min(i,fonts.length-1)];ctx.font=font.string;const text=lines[i];width=Math.max(width,ctx.measureText(text).width+strokeWidth),height+=font.lineHeight}return ctx.restore(),{width,height}}(ctx,lines,fonts,strokeWidth)),widthCache.get(mapKey)}function drawBox(ctx,rect,options){const{x,y,width,height}=rect;ctx.save(),setShadowStyle(ctx,options);const stroke=setBorderStyle(ctx,options);ctx.fillStyle=options.backgroundColor,ctx.beginPath(),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.aw)(ctx,{x,y,w:width,h:height,radius:clampAll((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.ay)(options.borderRadius),0,Math.min(width,height)/2)}),ctx.closePath(),ctx.fill(),stroke&&(ctx.shadowColor=options.borderShadowColor,ctx.stroke()),ctx.restore()}function drawLabel(ctx,rect,options,fitRatio){const content=options.content;if(isImageOrCanvas(content))return ctx.save(),ctx.globalAlpha=function getOpacity(value,elementValue){const opacity=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.x)(value)?value:elementValue;return(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.x)(opacity)?clamp(opacity,0,1):1}(options.opacity,content.style.opacity),ctx.drawImage(content,rect.x,rect.y,rect.width,rect.height),void ctx.restore();const labels=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(content)?content:[content],fonts=toFonts(options,fitRatio),optColor=options.color,colors=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(optColor)?optColor:[optColor],x=function calculateTextAlignment(size,options){const{x,width}=size,textAlign=options.textAlign;return"center"===textAlign?x+width/2:"end"===textAlign||"right"===textAlign?x+width:x}(rect,options),y=rect.y+options.textStrokeWidth/2;ctx.save(),ctx.textBaseline="middle",ctx.textAlign=options.textAlign,function setTextStrokeStyle(ctx,options){if(options.textStrokeWidth>0)return ctx.lineJoin="round",ctx.miterLimit=2,ctx.lineWidth=options.textStrokeWidth,ctx.strokeStyle=options.textStrokeColor,!0}(ctx,options)&&function applyLabelDecoration(ctx,{x,y},labels,fonts){ctx.beginPath();let lhs=0;labels.forEach(function(l,i){const f=fonts[Math.min(i,fonts.length-1)],lh=f.lineHeight;ctx.font=f.string,ctx.strokeText(l,x,y+lh/2+lhs),lhs+=lh}),ctx.stroke()}(ctx,{x,y},labels,fonts),function applyLabelContent(ctx,{x,y},labels,{fonts,colors}){let lhs=0;labels.forEach(function(l,i){const c=colors[Math.min(i,colors.length-1)],f=fonts[Math.min(i,fonts.length-1)],lh=f.lineHeight;ctx.beginPath(),ctx.font=f.string,ctx.fillStyle=c,ctx.fillText(l,x,y+lh/2+lhs),lhs+=lh,ctx.fill()})}(ctx,{x,y},labels,{fonts,colors}),ctx.restore()}function drawPoint(ctx,element,x,y){const{radius,options}=element,style=options.pointStyle,rotation=options.rotation;let rad=(rotation||0)*chart_js__WEBPACK_IMPORTED_MODULE_1__.b4;if(isImageOrCanvas(style))return ctx.save(),ctx.translate(x,y),ctx.rotate(rad),ctx.drawImage(style,-style.width/2,-style.height/2,style.width,style.height),void ctx.restore();(radius=>isNaN(radius)||radius<=0)(radius)||function drawPointStyle(ctx,{x,y,radius,rotation,style,rad}){let xOffset,yOffset,size,cornerRadius;switch(ctx.beginPath(),style){default:ctx.arc(x,y,radius,0,chart_js__WEBPACK_IMPORTED_MODULE_1__.T),ctx.closePath();break;case"triangle":ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius),rad+=chart_js__WEBPACK_IMPORTED_MODULE_1__.b6,ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius),rad+=chart_js__WEBPACK_IMPORTED_MODULE_1__.b6,ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius),ctx.closePath();break;case"rectRounded":cornerRadius=.516*radius,size=radius-cornerRadius,xOffset=Math.cos(rad+chart_js__WEBPACK_IMPORTED_MODULE_1__.b5)*size,yOffset=Math.sin(rad+chart_js__WEBPACK_IMPORTED_MODULE_1__.b5)*size,ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-chart_js__WEBPACK_IMPORTED_MODULE_1__.P,rad-chart_js__WEBPACK_IMPORTED_MODULE_1__.H),ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-chart_js__WEBPACK_IMPORTED_MODULE_1__.H,rad),ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+chart_js__WEBPACK_IMPORTED_MODULE_1__.H),ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+chart_js__WEBPACK_IMPORTED_MODULE_1__.H,rad+chart_js__WEBPACK_IMPORTED_MODULE_1__.P),ctx.closePath();break;case"rect":if(!rotation){size=Math.SQRT1_2*radius,ctx.rect(x-size,y-size,2*size,2*size);break}rad+=chart_js__WEBPACK_IMPORTED_MODULE_1__.b5;case"rectRot":xOffset=Math.cos(rad)*radius,yOffset=Math.sin(rad)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+yOffset,y-xOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.lineTo(x-yOffset,y+xOffset),ctx.closePath();break;case"crossRot":rad+=chart_js__WEBPACK_IMPORTED_MODULE_1__.b5;case"cross":xOffset=Math.cos(rad)*radius,yOffset=Math.sin(rad)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.moveTo(x+yOffset,y-xOffset),ctx.lineTo(x-yOffset,y+xOffset);break;case"star":xOffset=Math.cos(rad)*radius,yOffset=Math.sin(rad)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.moveTo(x+yOffset,y-xOffset),ctx.lineTo(x-yOffset,y+xOffset),rad+=chart_js__WEBPACK_IMPORTED_MODULE_1__.b5,xOffset=Math.cos(rad)*radius,yOffset=Math.sin(rad)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset),ctx.moveTo(x+yOffset,y-xOffset),ctx.lineTo(x-yOffset,y+xOffset);break;case"line":xOffset=Math.cos(rad)*radius,yOffset=Math.sin(rad)*radius,ctx.moveTo(x-xOffset,y-yOffset),ctx.lineTo(x+xOffset,y+yOffset);break;case"dash":ctx.moveTo(x,y),ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius)}ctx.fill()}(ctx,{x,y,radius,rotation,style,rad})}const positions=["left","bottom","top","right"];function drawCallout(ctx,element){const{pointX,pointY,options}=element,callout=options.callout,calloutPosition=callout&&callout.display&&function resolveCalloutPosition(element,options){const position=options.position;if(positions.includes(position))return position;return function resolveCalloutAutoPosition(element,options){const{x,y,x2,y2,width,height,pointX,pointY,centerX,centerY,rotation}=element,center={x:centerX,y:centerY},start=options.start,xAdjust=getSize(width,start),yAdjust=getSize(height,start),xPoints=[x,x+xAdjust,x+xAdjust,x2],yPoints=[y+yAdjust,y2,y,y2],result=[];for(let index=0;index<4;index++){const rotatedPoint=rotated({x:xPoints[index],y:yPoints[index]},center,(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(rotation));result.push({position:positions[index],distance:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.aF)(rotatedPoint,{x:pointX,y:pointY})})}return result.sort((a,b)=>a.distance-b.distance)[0].position}(element,options)}(element,callout);if(!calloutPosition||function isPointInRange(element,callout,position){const{pointX,pointY}=element,margin=callout.margin;let x=pointX,y=pointY;"left"===position?x+=margin:"right"===position?x-=margin:"top"===position?y+=margin:"bottom"===position&&(y-=margin);return element.inRange(x,y)}(element,callout,calloutPosition))return;ctx.save(),ctx.beginPath();if(!setBorderStyle(ctx,callout))return ctx.restore();const{separatorStart,separatorEnd}=function getCalloutSeparatorCoord(element,position){const{x,y,x2,y2}=element,adjust=function getCalloutSeparatorAdjust(element,position){const{width,height,options}=element,adjust=options.callout.margin+options.borderWidth/2;if("right"===position)return width+adjust;if("bottom"===position)return height+adjust;return-adjust}(element,position);let separatorStart,separatorEnd;"left"===position||"right"===position?(separatorStart={x:x+adjust,y},separatorEnd={x:separatorStart.x,y:y2}):(separatorStart={x,y:y+adjust},separatorEnd={x:x2,y:separatorStart.y});return{separatorStart,separatorEnd}}(element,calloutPosition),{sideStart,sideEnd}=function getCalloutSideCoord(element,position,separatorStart){const{y,width,height,options}=element,start=options.callout.start,side=function getCalloutSideAdjust(position,options){const side=options.side;if("left"===position||"top"===position)return-side;return side}(position,options.callout);let sideStart,sideEnd;"left"===position||"right"===position?(sideStart={x:separatorStart.x,y:y+getSize(height,start)},sideEnd={x:sideStart.x+side,y:sideStart.y}):(sideStart={x:separatorStart.x+getSize(width,start),y:separatorStart.y},sideEnd={x:sideStart.x,y:sideStart.y+side});return{sideStart,sideEnd}}(element,calloutPosition,separatorStart);(callout.margin>0||0===options.borderWidth)&&(ctx.moveTo(separatorStart.x,separatorStart.y),ctx.lineTo(separatorEnd.x,separatorEnd.y)),ctx.moveTo(sideStart.x,sideStart.y),ctx.lineTo(sideEnd.x,sideEnd.y);const rotatedPoint=rotated({x:pointX,y:pointY},element.getCenterPoint(),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(-element.rotation));ctx.lineTo(rotatedPoint.x,rotatedPoint.y),ctx.stroke(),ctx.restore()}const limitedLineScale={xScaleID:{min:"xMin",max:"xMax",start:"left",end:"right",startProp:"x",endProp:"x2"},yScaleID:{min:"yMin",max:"yMax",start:"bottom",end:"top",startProp:"y",endProp:"y2"}};function scaleValue(scale,value,fallback){return value="number"==typeof value?value:scale.parse(value),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.g)(value)?scale.getPixelForValue(value):fallback}function retrieveScaleID(scales,options,key){const scaleID=options[key];if(scaleID||"scaleID"===key)return scaleID;const axis=key.charAt(0),axes=Object.values(scales).filter(scale=>scale.axis&&scale.axis===axis);return axes.length?axes[0].id:axis}function getDimensionByScale(scale,options){if(scale){const reverse=scale.options.reverse;return{start:scaleValue(scale,options.min,reverse?options.end:options.start),end:scaleValue(scale,options.max,reverse?options.start:options.end)}}}function getChartPoint(chart,options){const{chartArea,scales}=chart,xScale=scales[retrieveScaleID(scales,options,"xScaleID")],yScale=scales[retrieveScaleID(scales,options,"yScaleID")];let x=chartArea.width/2,y=chartArea.height/2;return xScale&&(x=scaleValue(xScale,options.xValue,xScale.left+xScale.width/2)),yScale&&(y=scaleValue(yScale,options.yValue,yScale.top+yScale.height/2)),{x,y}}function resolveBoxProperties(chart,options){const scales=chart.scales,xScale=scales[retrieveScaleID(scales,options,"xScaleID")],yScale=scales[retrieveScaleID(scales,options,"yScaleID")];if(!xScale&&!yScale)return{};let{left:x,right:x2}=xScale||chart.chartArea,{top:y,bottom:y2}=yScale||chart.chartArea;const xDim=getChartDimensionByScale(xScale,{min:options.xMin,max:options.xMax,start:x,end:x2});x=xDim.start,x2=xDim.end;const yDim=getChartDimensionByScale(yScale,{min:options.yMin,max:options.yMax,start:y2,end:y});return y=yDim.start,y2=yDim.end,{x,y,x2,y2,width:x2-x,height:y2-y,centerX:x+(x2-x)/2,centerY:y+(y2-y)/2}}function resolvePointProperties(chart,options){if(!isBoundToPoint(options)){const box=resolveBoxProperties(chart,options);let radius=options.radius;radius&&!isNaN(radius)||(radius=Math.min(box.width,box.height)/2,options.radius=radius);const size=2*radius,adjustCenterX=box.centerX+options.xAdjust,adjustCenterY=box.centerY+options.yAdjust;return{x:adjustCenterX-radius,y:adjustCenterY-radius,x2:adjustCenterX+radius,y2:adjustCenterY+radius,centerX:adjustCenterX,centerY:adjustCenterY,width:size,height:size,radius}}return function getChartCircle(chart,options){const point=getChartPoint(chart,options),size=2*options.radius;return{x:point.x-options.radius+options.xAdjust,y:point.y-options.radius+options.yAdjust,x2:point.x+options.radius+options.xAdjust,y2:point.y+options.radius+options.yAdjust,centerX:point.x+options.xAdjust,centerY:point.y+options.yAdjust,radius:options.radius,width:size,height:size}}(chart,options)}function resolveLineProperties(chart,options){const{scales,chartArea}=chart,scale=scales[options.scaleID],area={x:chartArea.left,y:chartArea.top,x2:chartArea.right,y2:chartArea.bottom};return scale?function resolveFullLineProperties(scale,area,options){const min=scaleValue(scale,options.value,NaN),max=scaleValue(scale,options.endValue,min);scale.isHorizontal()?(area.x=min,area.x2=max):(area.y=min,area.y2=max)}(scale,area,options):function resolveLimitedLineProperties(scales,area,options){for(const scaleId of Object.keys(limitedLineScale)){const scale=scales[retrieveScaleID(scales,options,scaleId)];if(scale){const{min,max,start,end,startProp,endProp}=limitedLineScale[scaleId],dim=getDimensionByScale(scale,{min:options[min],max:options[max],start:scale[start],end:scale[end]});area[startProp]=dim.start,area[endProp]=dim.end}}}(scales,area,options),area}function resolveBoxAndLabelProperties(chart,options){const properties=resolveBoxProperties(chart,options);return properties.initProperties=initAnimationProperties(chart,properties,options),properties.elements=[{type:"label",optionScope:"label",properties:resolveLabelElementProperties$1(chart,properties,options),initProperties:properties.initProperties}],properties}function getChartDimensionByScale(scale,options){const result=getDimensionByScale(scale,options)||options;return{start:Math.min(result.start,result.end),end:Math.max(result.start,result.end)}}function calculatePosition(boxOpts,labelOpts){const{start,end,borderWidth}=boxOpts,{position,padding:{start:padStart,end:padEnd},adjust}=labelOpts;return start+borderWidth/2+adjust+getRelativePosition(end-borderWidth-start-padStart-padEnd-labelOpts.size,position)}function resolveLabelElementProperties$1(chart,properties,options){const label=options.label;label.backgroundColor="transparent",label.callout.display=!1;const position=toPosition(label.position),padding=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.E)(label.padding),labelSize=measureLabelSize(chart.ctx,label),x=function calculateX({properties,options},labelSize,position,padding){const{x:start,x2:end,width:size}=properties;return calculatePosition({start,end,size,borderWidth:options.borderWidth},{position:position.x,padding:{start:padding.left,end:padding.right},adjust:options.label.xAdjust,size:labelSize.width})}({properties,options},labelSize,position,padding),y=function calculateY({properties,options},labelSize,position,padding){const{y:start,y2:end,height:size}=properties;return calculatePosition({start,end,size,borderWidth:options.borderWidth},{position:position.y,padding:{start:padding.top,end:padding.bottom},adjust:options.label.yAdjust,size:labelSize.height})}({properties,options},labelSize,position,padding),width=labelSize.width+padding.width,height=labelSize.height+padding.height;return{x,y,x2:x+width,y2:y+height,width,height,centerX:x+width/2,centerY:y+height/2,rotation:label.rotation}}const moveHooks=["enter","leave"],eventHooks=moveHooks.concat("click");function handleEvent(state,event,options){if(state.listened)switch(event.type){case"mousemove":case"mouseout":return function handleMoveEvents(state,event,options){if(!state.moveListened)return;let elements;elements="mousemove"===event.type?getElements(state.visibleElements,event,options.interaction):[];const previous=state.hovered;state.hovered=elements;const context={state,event};let changed=dispatchMoveEvents(context,"leave",previous,elements);return dispatchMoveEvents(context,"enter",elements,previous)||changed}(state,event,options);case"click":return function handleClickEvents(state,event,options){const listeners=state.listeners,elements=getElements(state.visibleElements,event,options.interaction);let changed;for(const element of elements)changed=dispatchEvent(element.options.click||listeners.click,element,event)||changed;return changed}(state,event,options)}}function dispatchMoveEvents({state,event},hook,elements,checkElements){let changed;for(const element of elements)checkElements.indexOf(element)<0&&(changed=dispatchEvent(element.options[hook]||state.listeners[hook],element,event)||changed);return changed}function dispatchEvent(handler,element,event){return!0===(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.Q)(handler,[element.$context,event])}const elementHooks=["afterDraw","beforeDraw"];function invokeHook(state,element,hook){if(state.hooked){const callbackHook=element.options[hook]||state.hooks[hook];return(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.Q)(callbackHook,[element.$context])}}function adjustScaleRange(chart,scale,annotations){const range=function getScaleLimits(scales,scale,annotations){const axis=scale.axis,scaleID=scale.id,scaleIDOption=axis+"ScaleID",limits={min:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.v)(scale.min,Number.NEGATIVE_INFINITY),max:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.v)(scale.max,Number.POSITIVE_INFINITY)};for(const annotation of annotations)annotation.scaleID===scaleID?updateLimits(annotation,scale,["value","endValue"],limits):retrieveScaleID(scales,annotation,scaleIDOption)===scaleID&&updateLimits(annotation,scale,[axis+"Min",axis+"Max",axis+"Value"],limits);return limits}(chart.scales,scale,annotations);let changed=changeScaleLimit(scale,range,"min","suggestedMin");changed=changeScaleLimit(scale,range,"max","suggestedMax")||changed,changed&&(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(scale.handleTickRangeOptions)&&scale.handleTickRangeOptions()}function changeScaleLimit(scale,range,limit,suggestedLimit){if((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.g)(range[limit])&&!function scaleLimitDefined(scaleOptions,limit,suggestedLimit){return(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(scaleOptions[limit])||(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(scaleOptions[suggestedLimit])}(scale.options,limit,suggestedLimit)){const changed=scale[limit]!==range[limit];return scale[limit]=range[limit],changed}}function verifyScaleIDs(annotation,scales){for(const key of["scaleID","xScaleID","yScaleID"]){const scaleID=retrieveScaleID(scales,annotation,key);scaleID&&!scales[scaleID]&&verifyProperties(annotation,key)&&console.warn(`No scale found with id '${scaleID}' for annotation '${annotation.id}'`)}}function verifyProperties(annotation,key){if("scaleID"===key)return!0;const axis=key.charAt(0);for(const prop of["Min","Max","Value"])if((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(annotation[axis+prop]))return!0;return!1}function updateLimits(annotation,scale,props,limits){for(const prop of props){const raw=annotation[prop];if((0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(raw)){const value=scale.parse(raw);limits.min=Math.min(limits.min,value),limits.max=Math.max(limits.max,value)}}}class BoxAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){const{x,y}=rotated({x:mouseX,y:mouseY},this.getCenterPoint(useFinalPosition),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(-this.options.rotation));return inBoxRange({x,y},this.getProps(["x","y","x2","y2"],useFinalPosition),axis,this.options)}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){ctx.save(),translate(ctx,this.getCenterPoint(),this.options.rotation),drawBox(ctx,this,this.options),ctx.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(chart,options){return resolveBoxAndLabelProperties(chart,options)}}BoxAnnotation.id="boxAnnotation",BoxAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:1,display:!0,init:void 0,hitTolerance:0,label:{backgroundColor:"transparent",borderWidth:0,callout:{display:!1},color:"black",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:void 0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},BoxAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"},BoxAnnotation.descriptors={label:{_fallback:!0}};class DoughnutLabelAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){return inLabelRange({x:mouseX,y:mouseY},{rect:this.getProps(["x","y","x2","y2"],useFinalPosition),center:this.getCenterPoint(useFinalPosition)},axis,{rotation:this.rotation,borderWidth:0,hitTolerance:this.options.hitTolerance})}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const options=this.options;options.display&&options.content&&(!function drawBackground(ctx,element){const{_centerX,_centerY,_radius,_startAngle,_endAngle,_counterclockwise,options}=element;ctx.save();const stroke=setBorderStyle(ctx,options);ctx.fillStyle=options.backgroundColor,ctx.beginPath(),ctx.arc(_centerX,_centerY,_radius,_startAngle,_endAngle,_counterclockwise),ctx.closePath(),ctx.fill(),stroke&&ctx.stroke();ctx.restore()}(ctx,this),ctx.save(),translate(ctx,this.getCenterPoint(),this.rotation),drawLabel(ctx,this,options,this._fitRatio),ctx.restore())}resolveElementProperties(chart,options){const meta=function getDatasetMeta(chart,options){return chart.getSortedVisibleDatasetMetas().reduce(function(result,value){const controller=value.controller;return controller instanceof chart_js__WEBPACK_IMPORTED_MODULE_0__.ju&&function isControllerVisible(chart,options,elements){if(!options.autoHide)return!0;for(let i=0;i<elements.length;i++)if(!elements[i].hidden&&chart.getDataVisibility(i))return!0}(chart,options,value.data)&&(!result||controller.innerRadius<result.controller.innerRadius)&&controller.options.circumference>=90?value:result},void 0)}(chart,options);if(!meta)return{};const{controllerMeta,point,radius}=function getControllerMeta({chartArea},options,meta){const{left,top,right,bottom}=chartArea,{innerRadius,offsetX,offsetY}=meta.controller,x=(left+right)/2+offsetX,y=(top+bottom)/2+offsetY,square={left:Math.max(x-innerRadius,left),right:Math.min(x+innerRadius,right),top:Math.max(y-innerRadius,top),bottom:Math.min(y+innerRadius,bottom)},point={x:(square.left+square.right)/2,y:(square.top+square.bottom)/2},space=options.spacing+options.borderWidth/2,_radius=innerRadius-space,_counterclockwise=point.y>y,angles=function getAngles(y,centerX,centerY,radius){const yk2=Math.pow(centerY-y,2),r2=Math.pow(radius,2),b=-2*centerX,c=Math.pow(centerX,2)+yk2-r2,delta=Math.pow(b,2)-4*c;if(delta<=0)return{_startAngle:0,_endAngle:chart_js__WEBPACK_IMPORTED_MODULE_1__.T};const start=(-b-Math.sqrt(delta))/2,end=(-b+Math.sqrt(delta))/2;return{_startAngle:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.D)({x:centerX,y:centerY},{x:start,y}).angle,_endAngle:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.D)({x:centerX,y:centerY},{x:end,y}).angle}}(_counterclockwise?top+space:bottom-space,x,y,_radius),controllerMeta={_centerX:x,_centerY:y,_radius,_counterclockwise,...angles};return{controllerMeta,point,radius:Math.min(innerRadius,Math.min(square.right-square.left,square.bottom-square.top)/2)}}(chart,options,meta);let labelSize=measureLabelSize(chart.ctx,options);const _fitRatio=function getFitRatio({width,height},radius){const hypo=Math.sqrt(Math.pow(width,2)+Math.pow(height,2));return 2*radius/hypo}(labelSize,radius);shouldFit(options,_fitRatio)&&(labelSize={width:labelSize.width*_fitRatio,height:labelSize.height*_fitRatio});const{position,xAdjust,yAdjust}=options,boxSize=measureLabelRectangle(point,labelSize,{borderWidth:0,position,xAdjust,yAdjust});return{initProperties:initAnimationProperties(chart,boxSize,options),...boxSize,...controllerMeta,rotation:options.rotation,_fitRatio}}}DoughnutLabelAnnotation.id="doughnutLabelAnnotation",DoughnutLabelAnnotation.defaults={autoFit:!0,autoHide:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderColor:"transparent",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:0,color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,spacing:1,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0},DoughnutLabelAnnotation.defaultRoutes={};class LabelAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){return inLabelRange({x:mouseX,y:mouseY},{rect:this.getProps(["x","y","x2","y2"],useFinalPosition),center:this.getCenterPoint(useFinalPosition)},axis,{rotation:this.rotation,borderWidth:this.options.borderWidth,hitTolerance:this.options.hitTolerance})}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const options=this.options,visible=!(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(this._visible)||this._visible;options.display&&options.content&&visible&&(ctx.save(),translate(ctx,this.getCenterPoint(),this.rotation),drawCallout(ctx,this),drawBox(ctx,this,options),drawLabel(ctx,function getLabelSize({x,y,width,height,options}){const hBorderWidth=options.borderWidth/2,padding=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.E)(options.padding);return{x:x+padding.left+hBorderWidth,y:y+padding.top+hBorderWidth,width:width-padding.left-padding.right-options.borderWidth,height:height-padding.top-padding.bottom-options.borderWidth}}(this),options),ctx.restore())}resolveElementProperties(chart,options){let point;if(isBoundToPoint(options))point=getChartPoint(chart,options);else{const{centerX,centerY}=resolveBoxProperties(chart,options);point={x:centerX,y:centerY}}const padding=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.E)(options.padding),boxSize=measureLabelRectangle(point,measureLabelSize(chart.ctx,options),options,padding);return{initProperties:initAnimationProperties(chart,boxSize,options),pointX:point.x,pointY:point.y,...boxSize,rotation:options.rotation}}}LabelAnnotation.id="labelAnnotation",LabelAnnotation.defaults={adjustScaleRange:!0,backgroundColor:"transparent",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:0,borderShadowColor:"transparent",borderWidth:0,callout:{borderCapStyle:"butt",borderColor:void 0,borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:1,display:!1,margin:5,position:"auto",side:5,start:"50%"},color:"black",content:null,display:!0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:void 0},height:void 0,hitTolerance:0,init:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},LabelAnnotation.defaultRoutes={borderColor:"color"};const pointInLine=(p1,p2,t)=>({x:p1.x+t*(p2.x-p1.x),y:p1.y+t*(p2.y-p1.y)}),interpolateX=(y,p1,p2)=>pointInLine(p1,p2,Math.abs((y-p1.y)/(p2.y-p1.y))).x,interpolateY=(x,p1,p2)=>pointInLine(p1,p2,Math.abs((x-p1.x)/(p2.x-p1.x))).y,sqr=v=>v*v,coordInCurve=(start,cp,end,t)=>(1-t)*(1-t)*start+2*(1-t)*t*cp+t*t*end,pointInCurve=(start,cp,end,t)=>({x:coordInCurve(start.x,cp.x,end.x,t),y:coordInCurve(start.y,cp.y,end.y,t)}),coordAngleInCurve=(start,cp,end,t)=>2*(1-t)*(cp-start)+2*t*(end-cp),angleInCurve=(start,cp,end,t)=>-Math.atan2(coordAngleInCurve(start.x,cp.x,end.x,t),coordAngleInCurve(start.y,cp.y,end.y,t))+.5*chart_js__WEBPACK_IMPORTED_MODULE_1__.P;class LineAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){const hitSize=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==axis&&"y"!==axis){const point={mouseX,mouseY},{path,ctx}=this;if(path){setBorderStyle(ctx,this.options),ctx.lineWidth+=this.options.hitTolerance;const{chart}=this.$context,mx=mouseX*chart.currentDevicePixelRatio,my=mouseY*chart.currentDevicePixelRatio,result=ctx.isPointInStroke(path,mx,my)||isOnLabel(this,point,useFinalPosition);return ctx.restore(),result}return function intersects(element,{mouseX,mouseY},epsilon=.001,useFinalPosition){const{x:x1,y:y1,x2,y2}=element.getProps(["x","y","x2","y2"],useFinalPosition),dx=x2-x1,dy=y2-y1,lenSq=sqr(dx)+sqr(dy),t=0===lenSq?-1:((mouseX-x1)*dx+(mouseY-y1)*dy)/lenSq;let xx,yy;t<0?(xx=x1,yy=y1):t>1?(xx=x2,yy=y2):(xx=x1+t*dx,yy=y1+t*dy);return sqr(mouseX-xx)+sqr(mouseY-yy)<=epsilon}(this,point,sqr(hitSize),useFinalPosition)||isOnLabel(this,point,useFinalPosition)}return function inAxisRange(element,{mouseX,mouseY},axis,{hitSize,useFinalPosition}){const limit=((mouseX,mouseY,{x,y,x2,y2},axis)=>"y"===axis?{start:Math.min(y,y2),end:Math.max(y,y2),value:mouseY}:{start:Math.min(x,x2),end:Math.max(x,x2),value:mouseX})(mouseX,mouseY,element.getProps(["x","y","x2","y2"],useFinalPosition),axis);return inLimit(limit,hitSize)||isOnLabel(element,{mouseX,mouseY},useFinalPosition,axis)}(this,{mouseX,mouseY},axis,{hitSize,useFinalPosition})}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const{x,y,x2,y2,cp,options}=this;if(ctx.save(),!setBorderStyle(ctx,options))return ctx.restore();setShadowStyle(ctx,options);const length=Math.sqrt(Math.pow(x2-x,2)+Math.pow(y2-y,2));if(options.curve&&cp)return function drawCurve(ctx,element,cp,length){const{x,y,x2,y2,options}=element,{startOpts,endOpts,startAdjust,endAdjust}=getArrowHeads(element),p1={x,y},p2={x:x2,y:y2},startAngle=angleInCurve(p1,cp,p2,0),endAngle=angleInCurve(p1,cp,p2,1)-chart_js__WEBPACK_IMPORTED_MODULE_1__.P,ps=pointInCurve(p1,cp,p2,startAdjust/length),pe=pointInCurve(p1,cp,p2,1-endAdjust/length),path=new Path2D;ctx.beginPath(),path.moveTo(ps.x,ps.y),path.quadraticCurveTo(cp.x,cp.y,pe.x,pe.y),ctx.shadowColor=options.borderShadowColor,ctx.stroke(path),element.path=path,element.ctx=ctx,drawArrowHeadOnCurve(ctx,ps,{angle:startAngle,adjust:startAdjust},startOpts),drawArrowHeadOnCurve(ctx,pe,{angle:endAngle,adjust:endAdjust},endOpts)}(ctx,this,cp,length),ctx.restore();const{startOpts,endOpts,startAdjust,endAdjust}=getArrowHeads(this),angle=Math.atan2(y2-y,x2-x);ctx.translate(x,y),ctx.rotate(angle),ctx.beginPath(),ctx.moveTo(0+startAdjust,0),ctx.lineTo(length-endAdjust,0),ctx.shadowColor=options.borderShadowColor,ctx.stroke(),drawArrowHead(ctx,0,startAdjust,startOpts),drawArrowHead(ctx,length,-endAdjust,endOpts),ctx.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(chart,options){const area=resolveLineProperties(chart,options),{x,y,x2,y2}=area,inside=function isLineInArea({x,y,x2,y2},{top,right,bottom,left}){return!(x<left&&x2<left||x>right&&x2>right||y<top&&y2<top||y>bottom&&y2>bottom)}(area,chart.chartArea),properties=inside?function limitLineToArea(p1,p2,area){const{x,y}=limitPointToArea(p1,p2,area),{x:x2,y:y2}=limitPointToArea(p2,p1,area);return{x,y,x2,y2,width:Math.abs(x2-x),height:Math.abs(y2-y)}}({x,y},{x:x2,y:y2},chart.chartArea):{x,y,x2,y2,width:Math.abs(x2-x),height:Math.abs(y2-y)};if(properties.centerX=(x2+x)/2,properties.centerY=(y2+y)/2,properties.initProperties=initAnimationProperties(chart,properties,options),options.curve){const p1={x:properties.x,y:properties.y},p2={x:properties.x2,y:properties.y2};properties.cp=function getControlPoint(properties,options,distance){const{x,y,x2,y2,centerX,centerY}=properties,angle=Math.atan2(y2-y,x2-x),cp=toPosition(options.controlPoint,0);return rotated({x:centerX+getSize(distance,cp.x,!1),y:centerY+getSize(distance,cp.y,!1)},{x:centerX,y:centerY},angle)}(properties,options,(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.aF)(p1,p2))}const labelProperties=function resolveLabelElementProperties(chart,properties,options){const borderWidth=options.borderWidth,padding=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.E)(options.padding),textSize=measureLabelSize(chart.ctx,options),width=textSize.width+padding.width+borderWidth,height=textSize.height+padding.height+borderWidth;return function calculateLabelPosition(properties,label,sizes,chartArea){const{width,height,padding}=sizes,{xAdjust,yAdjust}=label,p1={x:properties.x,y:properties.y},p2={x:properties.x2,y:properties.y2},rotation="auto"===label.rotation?function calculateAutoRotation(properties){const{x,y,x2,y2}=properties,rotation=Math.atan2(y2-y,x2-x);return rotation>chart_js__WEBPACK_IMPORTED_MODULE_1__.P/2?rotation-chart_js__WEBPACK_IMPORTED_MODULE_1__.P:rotation<chart_js__WEBPACK_IMPORTED_MODULE_1__.P/-2?rotation+chart_js__WEBPACK_IMPORTED_MODULE_1__.P:rotation}(properties):(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(label.rotation),size=function rotatedSize(width,height,rotation){const cos=Math.cos(rotation),sin=Math.sin(rotation);return{w:Math.abs(width*cos)+Math.abs(height*sin),h:Math.abs(width*sin)+Math.abs(height*cos)}}(width,height,rotation),t=function calculateT(properties,label,sizes,chartArea){let t;const space=function spaceAround(properties,chartArea){const{x,x2,y,y2}=properties,t=Math.min(y,y2)-chartArea.top,l=Math.min(x,x2)-chartArea.left,b=chartArea.bottom-Math.max(y,y2),r=chartArea.right-Math.max(x,x2);return{x:Math.min(l,r),y:Math.min(t,b),dx:l<=r?1:-1,dy:t<=b?1:-1}}(properties,chartArea);t="start"===label.position?calculateTAdjust({w:properties.x2-properties.x,h:properties.y2-properties.y},sizes,label,space):"end"===label.position?1-calculateTAdjust({w:properties.x-properties.x2,h:properties.y-properties.y2},sizes,label,space):getRelativePosition(1,label.position);return t}(properties,label,{labelSize:size,padding},chartArea),pt=properties.cp?pointInCurve(p1,properties.cp,p2,t):pointInLine(p1,p2,t),xCoordinateSizes={size:size.w,min:chartArea.left,max:chartArea.right,padding:padding.left},yCoordinateSizes={size:size.h,min:chartArea.top,max:chartArea.bottom,padding:padding.top},centerX=adjustLabelCoordinate(pt.x,xCoordinateSizes)+xAdjust,centerY=adjustLabelCoordinate(pt.y,yCoordinateSizes)+yAdjust;return{x:centerX-width/2,y:centerY-height/2,x2:centerX+width/2,y2:centerY+height/2,centerX,centerY,pointX:pt.x,pointY:pt.y,width,height,rotation:(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.U)(rotation)}}(properties,options,{width,height,padding},chart.chartArea)}(chart,properties,options.label);return labelProperties._visible=inside,properties.elements=[{type:"label",optionScope:"label",properties:labelProperties,initProperties:properties.initProperties}],properties}}LineAnnotation.id="lineAnnotation";const arrowHeadsDefaults={backgroundColor:void 0,backgroundShadowColor:void 0,borderColor:void 0,borderDash:void 0,borderDashOffset:void 0,borderShadowColor:void 0,borderWidth:void 0,display:void 0,fill:void 0,length:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,width:void 0};function limitPointToArea({x,y},p2,{top,right,bottom,left}){return x<left&&(y=interpolateY(left,{x,y},p2),x=left),x>right&&(y=interpolateY(right,{x,y},p2),x=right),y<top&&(x=interpolateX(top,{x,y},p2),y=top),y>bottom&&(x=interpolateX(bottom,{x,y},p2),y=bottom),{x,y}}function isOnLabel(element,{mouseX,mouseY},useFinalPosition,axis){const label=element.label;return label.options.display&&label.inRange(mouseX,mouseY,axis,useFinalPosition)}function calculateTAdjust(lineSize,sizes,label,space){const{labelSize,padding}=sizes,lineW=lineSize.w*space.dx,lineH=lineSize.h*space.dy,x=lineW>0&&(labelSize.w/2+padding.left-space.x)/lineW,y=lineH>0&&(labelSize.h/2+padding.top-space.y)/lineH;return clamp(Math.max(x,y),0,.25)}function adjustLabelCoordinate(coordinate,labelSizes){const{size,min,max,padding}=labelSizes,halfSize=size/2;return size>max-min?(max+min)/2:(min>=coordinate-padding-halfSize&&(coordinate=min+padding+halfSize),max<=coordinate+padding+halfSize&&(coordinate=max-padding-halfSize),coordinate)}function getArrowHeads(line){const options=line.options,arrowStartOpts=options.arrowHeads&&options.arrowHeads.start,arrowEndOpts=options.arrowHeads&&options.arrowHeads.end;return{startOpts:arrowStartOpts,endOpts:arrowEndOpts,startAdjust:getLineAdjust(line,arrowStartOpts),endAdjust:getLineAdjust(line,arrowEndOpts)}}function getLineAdjust(line,arrowOpts){if(!arrowOpts||!arrowOpts.display)return 0;const{length,width}=arrowOpts,adjust=line.options.borderWidth/2,p1={x:length,y:width+adjust},p2={x:0,y:adjust};return Math.abs(interpolateX(0,p1,p2))}function drawArrowHead(ctx,offset,adjust,arrowOpts){if(!arrowOpts||!arrowOpts.display)return;const{length,width,fill,backgroundColor,borderColor}=arrowOpts,arrowOffsetX=Math.abs(offset-length)+adjust;ctx.beginPath(),setShadowStyle(ctx,arrowOpts),setBorderStyle(ctx,arrowOpts),ctx.moveTo(arrowOffsetX,-width),ctx.lineTo(offset+adjust,0),ctx.lineTo(arrowOffsetX,width),!0===fill?(ctx.fillStyle=backgroundColor||borderColor,ctx.closePath(),ctx.fill(),ctx.shadowColor="transparent"):ctx.shadowColor=arrowOpts.borderShadowColor,ctx.stroke()}function drawArrowHeadOnCurve(ctx,{x,y},{angle,adjust},arrowOpts){arrowOpts&&arrowOpts.display&&(ctx.save(),ctx.translate(x,y),ctx.rotate(angle),drawArrowHead(ctx,0,-adjust,arrowOpts),ctx.restore())}LineAnnotation.defaults={adjustScaleRange:!0,arrowHeads:{display:!1,end:Object.assign({},arrowHeadsDefaults),fill:!1,length:12,start:Object.assign({},arrowHeadsDefaults),width:6},borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:2,curve:!1,controlPoint:{y:"-50%"},display:!0,endValue:void 0,init:void 0,hitTolerance:0,label:{backgroundColor:"rgba(0,0,0,0.8)",backgroundShadowColor:"transparent",borderCapStyle:"butt",borderColor:"black",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderRadius:6,borderShadowColor:"transparent",borderWidth:0,callout:Object.assign({},LabelAnnotation.defaults.callout),color:"#fff",content:null,display:!1,drawTime:void 0,font:{family:void 0,lineHeight:void 0,size:void 0,style:void 0,weight:"bold"},height:void 0,hitTolerance:void 0,opacity:void 0,padding:6,position:"center",rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,textAlign:"center",textStrokeColor:void 0,textStrokeWidth:0,width:void 0,xAdjust:0,yAdjust:0,z:void 0},scaleID:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,value:void 0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},LineAnnotation.descriptors={arrowHeads:{start:{_fallback:!0},end:{_fallback:!0},_fallback:!0}},LineAnnotation.defaultRoutes={borderColor:"color"};class EllipseAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){const rotation=this.options.rotation,hitSize=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==axis&&"y"!==axis)return function pointInEllipse(p,ellipse,rotation,hitSize){const{width,height,centerX,centerY}=ellipse,xRadius=width/2,yRadius=height/2;if(xRadius<=0||yRadius<=0)return!1;const angle=(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(rotation||0),cosAngle=Math.cos(angle),sinAngle=Math.sin(angle),a=Math.pow(cosAngle*(p.x-centerX)+sinAngle*(p.y-centerY),2),b=Math.pow(sinAngle*(p.x-centerX)-cosAngle*(p.y-centerY),2);return a/Math.pow(xRadius+hitSize,2)+b/Math.pow(yRadius+hitSize,2)<=1.0001}({x:mouseX,y:mouseY},this.getProps(["width","height","centerX","centerY"],useFinalPosition),rotation,hitSize);const{x,y,x2,y2}=this.getProps(["x","y","x2","y2"],useFinalPosition),limit="y"===axis?{start:y,end:y2}:{start:x,end:x2},rotatedPoint=rotated({x:mouseX,y:mouseY},this.getCenterPoint(useFinalPosition),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(-rotation));return rotatedPoint[axis]>=limit.start-hitSize-.001&&rotatedPoint[axis]<=limit.end+hitSize+.001}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const{width,height,centerX,centerY,options}=this;ctx.save(),translate(ctx,this.getCenterPoint(),options.rotation),setShadowStyle(ctx,this.options),ctx.beginPath(),ctx.fillStyle=options.backgroundColor;const stroke=setBorderStyle(ctx,options);ctx.ellipse(centerX,centerY,height/2,width/2,chart_js__WEBPACK_IMPORTED_MODULE_1__.P/2,0,2*chart_js__WEBPACK_IMPORTED_MODULE_1__.P),ctx.fill(),stroke&&(ctx.shadowColor=options.borderShadowColor,ctx.stroke()),ctx.restore()}get label(){return this.elements&&this.elements[0]}resolveElementProperties(chart,options){return resolveBoxAndLabelProperties(chart,options)}}EllipseAnnotation.id="ellipseAnnotation",EllipseAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,label:Object.assign({},BoxAnnotation.defaults.label),rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xMax:void 0,xMin:void 0,xScaleID:void 0,yMax:void 0,yMin:void 0,yScaleID:void 0,z:0},EllipseAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"},EllipseAnnotation.descriptors={label:{_fallback:!0}};class PointAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){const{x,y,x2,y2,width}=this.getProps(["x","y","x2","y2","width"],useFinalPosition),hitSize=(this.options.borderWidth+this.options.hitTolerance)/2;if("x"!==axis&&"y"!==axis)return function inPointRange(point,center,radius,hitSize){return!(!point||!center||radius<=0)&&Math.pow(point.x-center.x,2)+Math.pow(point.y-center.y,2)<=Math.pow(radius+hitSize,2)}({x:mouseX,y:mouseY},this.getCenterPoint(useFinalPosition),width/2,hitSize);return inLimit("y"===axis?{start:y,end:y2,value:mouseY}:{start:x,end:x2,value:mouseX},hitSize)}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const options=this.options,borderWidth=options.borderWidth;if(options.radius<.1)return;ctx.save(),ctx.fillStyle=options.backgroundColor,setShadowStyle(ctx,options);const stroke=setBorderStyle(ctx,options);drawPoint(ctx,this,this.centerX,this.centerY),stroke&&!isImageOrCanvas(options.pointStyle)&&(ctx.shadowColor=options.borderShadowColor,ctx.stroke()),ctx.restore(),options.borderWidth=borderWidth}resolveElementProperties(chart,options){const properties=resolvePointProperties(chart,options);return properties.initProperties=initAnimationProperties(chart,properties,options),properties}}PointAnnotation.id="pointAnnotation",PointAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderDash:[],borderDashOffset:0,borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,pointStyle:"circle",radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},PointAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};class PolygonAnnotation extends chart_js__WEBPACK_IMPORTED_MODULE_0__.Hg{inRange(mouseX,mouseY,axis,useFinalPosition){if("x"!==axis&&"y"!==axis)return this.options.radius>=.1&&this.elements.length>1&&function pointIsInPolygon(points,x,y,useFinalPosition){let isInside=!1,A=points[points.length-1].getProps(["bX","bY"],useFinalPosition);for(const point of points){const B=point.getProps(["bX","bY"],useFinalPosition);B.bY>y!=A.bY>y&&x<(A.bX-B.bX)*(y-B.bY)/(A.bY-B.bY)+B.bX&&(isInside=!isInside),A=B}return isInside}(this.elements,mouseX,mouseY,useFinalPosition);const rotatedPoint=rotated({x:mouseX,y:mouseY},this.getCenterPoint(useFinalPosition),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.t)(-this.options.rotation)),axisPoints=this.elements.map(point=>"y"===axis?point.bY:point.bX),start=Math.min(...axisPoints),end=Math.max(...axisPoints);return rotatedPoint[axis]>=start&&rotatedPoint[axis]<=end}getCenterPoint(useFinalPosition){return getElementCenterPoint(this,useFinalPosition)}draw(ctx){const{elements,options}=this;ctx.save(),ctx.beginPath(),ctx.fillStyle=options.backgroundColor,setShadowStyle(ctx,options);const stroke=setBorderStyle(ctx,options);let first=!0;for(const el of elements)first?(ctx.moveTo(el.x,el.y),first=!1):ctx.lineTo(el.x,el.y);ctx.closePath(),ctx.fill(),stroke&&(ctx.shadowColor=options.borderShadowColor,ctx.stroke()),ctx.restore()}resolveElementProperties(chart,options){const properties=resolvePointProperties(chart,options),{sides,rotation}=options,elements=[],angle=2*chart_js__WEBPACK_IMPORTED_MODULE_1__.P/sides;let rad=rotation*chart_js__WEBPACK_IMPORTED_MODULE_1__.b4;for(let i=0;i<sides;i++,rad+=angle){const elProps=buildPointElement(properties,options,rad);elProps.initProperties=initAnimationProperties(chart,properties,options),elements.push(elProps)}return properties.elements=elements,properties}}function buildPointElement({centerX,centerY},{radius,borderWidth,hitTolerance},rad){const hitSize=(borderWidth+hitTolerance)/2,sin=Math.sin(rad),cos=Math.cos(rad),point={x:centerX+sin*radius,y:centerY-cos*radius};return{type:"point",optionScope:"point",properties:{x:point.x,y:point.y,centerX:point.x,centerY:point.y,bX:centerX+sin*(radius+hitSize),bY:centerY-cos*(radius+hitSize)}}}PolygonAnnotation.id="polygonAnnotation",PolygonAnnotation.defaults={adjustScaleRange:!0,backgroundShadowColor:"transparent",borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderShadowColor:"transparent",borderWidth:1,display:!0,hitTolerance:0,init:void 0,point:{radius:0},radius:10,rotation:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,sides:3,xAdjust:0,xMax:void 0,xMin:void 0,xScaleID:void 0,xValue:void 0,yAdjust:0,yMax:void 0,yMin:void 0,yScaleID:void 0,yValue:void 0,z:0},PolygonAnnotation.defaultRoutes={borderColor:"color",backgroundColor:"color"};const annotationTypes={box:BoxAnnotation,doughnutLabel:DoughnutLabelAnnotation,ellipse:EllipseAnnotation,label:LabelAnnotation,line:LineAnnotation,point:PointAnnotation,polygon:PolygonAnnotation};Object.keys(annotationTypes).forEach(key=>{chart_js__WEBPACK_IMPORTED_MODULE_1__.d.describe(`elements.${annotationTypes[key].id}`,{_fallback:"plugins.annotation.common"})});const directUpdater={update:Object.assign},hooks$1=eventHooks.concat(elementHooks),resolve=(value,optDefs)=>(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(optDefs)?resolveObj(value,optDefs):value,isIndexable=prop=>"color"===prop||"font"===prop;function resolveType(type="line"){return annotationTypes[type]?type:(console.warn(`Unknown annotation type: '${type}', defaulting to 'line'`),"line")}function updateElements(chart,state,options,mode){const animations=function resolveAnimations(chart,animOpts,mode){if("reset"===mode||"none"===mode||"resize"===mode)return directUpdater;return new chart_js__WEBPACK_IMPORTED_MODULE_0__.Qw(chart,animOpts)}(chart,options.animations,mode),annotations=state.annotations,elements=function resyncElements(elements,annotations){const count=annotations.length,start=elements.length;if(start<count){const add=count-start;elements.splice(start,0,...new Array(add))}else start>count&&elements.splice(count,start-count);return elements}(state.elements,annotations);for(let i=0;i<annotations.length;i++){const annotationOptions=annotations[i],element=getOrCreateElement(elements,i,annotationOptions.type),resolver=annotationOptions.setContext(getContext(chart,element,elements,annotationOptions)),properties=element.resolveElementProperties(chart,resolver);properties.skip=toSkip(properties),"elements"in properties&&(updateSubElements(element,properties.elements,resolver,animations),delete properties.elements),(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.h)(element.x)||Object.assign(element,properties),Object.assign(element,properties.initProperties),properties.options=resolveAnnotationOptions(resolver),animations.update(element,properties)}}function toSkip(properties){return isNaN(properties.x)||isNaN(properties.y)}function updateSubElements(mainElement,elements,resolver,animations){const subElements=mainElement.elements||(mainElement.elements=[]);subElements.length=elements.length;for(let i=0;i<elements.length;i++){const definition=elements[i],properties=definition.properties,subElement=getOrCreateElement(subElements,i,definition.type,definition.initProperties),subResolver=resolver[definition.optionScope].override(definition);properties.options=resolveAnnotationOptions(subResolver),animations.update(subElement,properties)}}function getOrCreateElement(elements,index,type,initProperties){const elementClass=annotationTypes[resolveType(type)];let element=elements[index];return element&&element instanceof elementClass||(element=elements[index]=new elementClass,Object.assign(element,initProperties)),element}function resolveAnnotationOptions(resolver){const elementClass=annotationTypes[resolveType(resolver.type)],result={};result.id=resolver.id,result.type=resolver.type,result.drawTime=resolver.drawTime,Object.assign(result,resolveObj(resolver,elementClass.defaults),resolveObj(resolver,elementClass.defaultRoutes));for(const hook of hooks$1)result[hook]=resolver[hook];return result}function resolveObj(resolver,defs){const result={};for(const prop of Object.keys(defs)){const optDefs=defs[prop],value=resolver[prop];isIndexable(prop)&&(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(value)?result[prop]=value.map(item=>resolve(item,optDefs)):result[prop]=resolve(value,optDefs)}return result}function getContext(chart,element,elements,annotation){return element.$context||(element.$context=Object.assign(Object.create(chart.getContext()),{element,get elements(){return elements.filter(el=>el&&el.options)},id:annotation.id,type:"annotation"}))}const chartStates=new Map,isNotDoughnutLabel=annotation=>"doughnutLabel"!==annotation.type,hooks=eventHooks.concat(elementHooks);var annotation={id:"annotation",version:"3.1.0",beforeRegister(){!function requireVersion(pkg,min,ver,strict=!0){const parts=ver.split(".");let i=0;for(const req of min.split(".")){const act=parts[i++];if(parseInt(req,10)<parseInt(act,10))break;if(isOlderPart(act,req)){if(strict)throw new Error(`${pkg} v${ver} is not supported. v${min} or newer is required.`);return!1}}return!0}("chart.js","4.0",chart_js__WEBPACK_IMPORTED_MODULE_0__.t1.version)},afterRegister(){chart_js__WEBPACK_IMPORTED_MODULE_0__.t1.register(annotationTypes)},afterUnregister(){chart_js__WEBPACK_IMPORTED_MODULE_0__.t1.unregister(annotationTypes)},beforeInit(chart){chartStates.set(chart,{annotations:[],elements:[],visibleElements:[],listeners:{},listened:!1,moveListened:!1,hooks:{},hooked:!1,hovered:[]})},beforeUpdate(chart,args,options){const annotations=chartStates.get(chart).annotations=[];let annotationOptions=options.annotations;(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(annotationOptions)?Object.keys(annotationOptions).forEach(key=>{const value=annotationOptions[key];(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.i)(value)&&(value.id=key,annotations.push(value))}):(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.b)(annotationOptions)&&annotations.push(...annotationOptions),function verifyScaleOptions(annotations,scales){for(const annotation of annotations)verifyScaleIDs(annotation,scales)}(annotations.filter(isNotDoughnutLabel),chart.scales)},afterDataLimits(chart,args){const state=chartStates.get(chart);adjustScaleRange(chart,args.scale,state.annotations.filter(isNotDoughnutLabel).filter(a=>a.display&&a.adjustScaleRange))},afterUpdate(chart,args,options){const state=chartStates.get(chart);!function updateListeners(chart,state,options){state.listened=loadHooks(options,eventHooks,state.listeners),state.moveListened=!1,moveHooks.forEach(hook=>{(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(options[hook])&&(state.moveListened=!0)}),state.listened&&state.moveListened||state.annotations.forEach(scope=>{!state.listened&&(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(scope.click)&&(state.listened=!0),state.moveListened||moveHooks.forEach(hook=>{(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(scope[hook])&&(state.listened=!0,state.moveListened=!0)})})}(0,state,options),updateElements(chart,state,options,args.mode),state.visibleElements=state.elements.filter(el=>!el.skip&&el.options.display),function updateHooks(chart,state,options){const visibleElements=state.visibleElements;state.hooked=loadHooks(options,elementHooks,state.hooks),state.hooked||visibleElements.forEach(scope=>{state.hooked||elementHooks.forEach(hook=>{(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.a7)(scope.options[hook])&&(state.hooked=!0)})})}(0,state,options)},beforeDatasetsDraw(chart,_args,options){draw(chart,"beforeDatasetsDraw",options.clip)},afterDatasetsDraw(chart,_args,options){draw(chart,"afterDatasetsDraw",options.clip)},beforeDatasetDraw(chart,_args,options){draw(chart,_args.index,options.clip)},beforeDraw(chart,_args,options){draw(chart,"beforeDraw",options.clip)},afterDraw(chart,_args,options){draw(chart,"afterDraw",options.clip)},beforeEvent(chart,args,options){handleEvent(chartStates.get(chart),args.event,options)&&(args.changed=!0)},afterDestroy(chart){chartStates.delete(chart)},getAnnotations(chart){const state=chartStates.get(chart);return state?state.elements:[]},_getAnnotationElementsAtEventForMode:(visibleElements,event,options)=>getElements(visibleElements,event,options),defaults:{animations:{numbers:{properties:["x","y","x2","y2","width","height","centerX","centerY","pointX","pointY","radius"],type:"number"},colors:{properties:["backgroundColor","borderColor"],type:"color"}},clip:!0,interaction:{mode:void 0,axis:void 0,intersect:void 0},common:{drawTime:"afterDatasetsDraw",init:!1,label:{}}},descriptors:{_indexable:!1,_scriptable:prop=>!hooks.includes(prop)&&"init"!==prop,annotations:{_allKeys:!1,_fallback:(prop,opts)=>`elements.${annotationTypes[resolveType(opts.type)].id}`},interaction:{_fallback:!0},common:{label:{_indexable:isIndexable,_fallback:!0},_indexable:isIndexable}},additionalOptionScopes:[""]};function draw(chart,caller,clip){const{ctx,chartArea}=chart,state=chartStates.get(chart);clip&&(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.Y)(ctx,chartArea);const drawableElements=function getDrawableElements(elements,caller){const drawableElements=[];for(const el of elements)if(el.options.drawTime===caller&&drawableElements.push({element:el,main:!0}),el.elements&&el.elements.length)for(const sub of el.elements)sub.options.display&&sub.options.drawTime===caller&&drawableElements.push({element:sub});return drawableElements}(state.visibleElements,caller).sort((a,b)=>a.element.options.z-b.element.options.z);for(const item of drawableElements)drawElement(ctx,chartArea,state,item);clip&&(0,chart_js__WEBPACK_IMPORTED_MODULE_1__.$)(ctx)}function drawElement(ctx,chartArea,state,item){const el=item.element;item.main?(invokeHook(state,el,"beforeDraw"),el.draw(ctx,chartArea),invokeHook(state,el,"afterDraw")):el.draw(ctx,chartArea)}}}]);